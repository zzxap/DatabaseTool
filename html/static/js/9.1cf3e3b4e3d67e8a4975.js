webpackJsonp([9],{FzQv:function(e,t){},VwjM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("CtzY"),s=a.n(n),i=a("gyMJ"),r=(a("/dor"),{name:"App",data:function(){return{pageid:1,pagesize:50,loadFinish:0,tableData:[],CategoryName:"",errorMessage:"",total:0,dialogServer:!1,belong:this.$route.params.belong,form:{sqlString:"",table:"runsql"},querymap:{pageid:this.pageid,pagesize:this.pagesize,table:"database"},rules:{DataBasename:[{required:!0,message:"Please input name",trigger:"change"},{min:1,max:30,message:"length 1 - 30",trigger:"change"}]}}},created:function(){this.belong=this.$route.params.belong,this.init(),this.form.sqlString="CREATE DATABASE dbname;"},methods:{getlan:function(e){var t=this.$t("lang."+e);return t.indexOf("lang.")>=0?e:t},init:function(){var e=this;Object(i.e)(s.a.stringify(this.querymap)).then(function(t){e.tableData=t.data.data,void 0!=e.tableData&&(e.total=e.tableData.length)})},goback:function(){this.$router.push({name:"base"})},showtable:function(e,t){this.$router.push({name:"tables",params:{dbname:t.dbname}})},adddb:function(){this.form.sqlString="CREATE DATABASE xx",this.dialogServer=!0},handleData:function(e,t){this.errorMessage="",this.form=t,this.form.mode="edit",this.dialogServer=!0},handleDelete:function(e,t){this.form=t,this.form.mode="edit",this.dialogServer=!0},handleClose:function(e){this.dialogServer=!1,this.form={id:0,DataBasename:""},this.$refs.form.resetFields()},current_change:function(e){this.pageid=e},handleSizeChange:function(e){this.pagesize=e},submitForm:function(e){var t=this;if(""!=this.form.sqlString){var a={sql:this.form.sqlString,table:"runsql"};Object(i.a)(s.a.stringify(a)).then(function(e){1==e.data.code?t.dialogServer=!1:null!=e.data.message&&(t.errorMessage=e.data.message,t.alert_ok(e.data.message))})}else this.alert_ok("sql is null")}}}),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:function(t){return e.init()}}}),e._v(" "),a("div",{staticClass:"demonstration h_title"},[e._v(e._s(e.getlan("DataBase")))]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.adddb()}}})],1)],1),e._v(" "),a("el-table",{staticStyle:{"font-size":"15px"},attrs:{data:e.tableData,height:"500","row-style":{height:"40px"},"cell-style":{padding:"0"}}},[a("el-table-column",{attrs:{label:e.getlan("DataBase")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticStyle:{float:"left","margin-left":"5px"},attrs:{to:{name:"tables",params:{dbname:t.row.dbname}}}},[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.dbname))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.getlan("operate"),width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",icon:"el-icon-document"},on:{click:function(a){return e.showtable(t.$index,t.row)}}}),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handleData(t.$index,t.row)}}}),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"}),e._v(" "),a("el-pagination",{attrs:{layout:"prev, next","page-sizes":[50,100,500],"page-size":this.pagesize,total:this.total},on:{"size-change":e.handleSizeChange,"current-change":e.current_change}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.getlan("DataBase"),visible:e.dialogServer,width:this.getDialogWidth(),"show-close":!0,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogServer=t}}},[a("el-form",{ref:"form",staticClass:"el-form--label-top",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"Sql",prop:"sqlString"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:10},placeholder:"sqlString"},model:{value:e.form.sqlString,callback:function(t){e.$set(e.form,"sqlString",t)},expression:"form.sqlString"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("span",{staticStyle:{color:"red"}},[e._v(e._s(this.errorMessage))]),e._v(" "),a("el-button",{on:{click:function(t){return e.handleClose("form")}}},[e._v(e._s(e.getlan("cancel")))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v(e._s(e.getlan("Execute")))])],1)],1)],1)},staticRenderFns:[]};var o=a("C7Lr")(r,l,!1,function(e){a("FzQv")},"data-v-1234d38e",null);t.default=o.exports}});
//# sourceMappingURL=9.1cf3e3b4e3d67e8a4975.js.map