webpackJsonp([5],{DKR4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("CtzY"),l=a.n(n),i=a("gyMJ"),s=a("/dor"),o={name:"App",data:function(){return{cols:[{prop:"table_name",label:"table_name"},{prop:"table_catalog",label:"table_catalog"}],pageid:1,total:50,pagesize:50,loadFinish:0,tableData:[{table_name:"",table_catalog:""}],CategoryName:"",dialogServer:!1,sqlString:"",form:{mode:"",key:"",value:""},querymap:{pageid:this.pageid,pagesize:this.pagesize,table:"etcd",dbname:""},rules:{key:[{required:!0,message:"Please input name",trigger:"change"},{min:1,max:30,message:"length 1 - 30",trigger:"change"}]}}},created:function(){this.belong=this.$route.params.belong,this.init()},methods:{getlan:function(e){var t=this.$t("lang."+e);return t.indexOf("lang.")>=0?e:t},init:function(){var e=this;null!=this.$route.params.dbname?(this.querymap.dbname=this.$route.params.dbname,Object(s.h)("dbname",this.$route.params.dbname)):this.querymap.dbname=Object(s.d)("dbname"),this.errorMessage="Loading...",Object(i.e)(l.a.stringify(this.querymap)).then(function(t){e.tableData=t.data.data,e.pagesize=t.data.pagesize,e.errorMessage=""})},goback:function(){this.$router.push({name:"database"})},addtable:function(){},handleData:function(e,t){e||t?(this.form.key=t.key,this.form.mode="edit",this.form.value=t.value,this.dialogServer=!0):(this.form.mode="add",this.dialogServer=!0)},handleDelete:function(e,t){this.form.mode="delete",this.form.key=t.key,this.form.value=t.value,this.dialogServer=!0},handleClose:function(e){this.dialogServer=!1,this.form={id:0,key:""},this.$refs.form.resetFields()},current_change:function(e){var t=this;this.pageid=e,Object(i.e)(l.a.stringify(this.querymap)).then(function(e){t.tableData=e.data.data,t.pagesize=e.data.pagesize})},handleSizeChange:function(e){this.pagesize=e},comfirmSubmit:function(){var e=this;this.$confirm(this.sqlString,this.getlan("Execute"),{confirmButtonText:this.getlan("Execute"),confirmButtonClass:"el-button--danger",cancelButtonText:this.getlan("cancel"),type:"warning"}).then(function(){e.Submit()}).catch(function(){})},Submit:function(){var e=this;""!=this.form.key?""!=this.form.value?Object(i.b)(l.a.stringify(this.form)).then(function(t){1==t.data.code?(e.dialogServer=!1,e.form.key="",e.form.value="",e.init(),e.$message({message:"success",type:"success"})):e.$message.error(t.data.message)}):this.alert_ok("value is null"):this.alert_ok("key is null")}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.goback()}}}),e._v(" "),a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:function(t){return e.init()}}}),e._v(" "),a("div",{staticClass:"demonstration h_title"},[e._v("ETCD"),a("font")],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleData()}}})],1)],1),e._v(" "),a("el-table",{staticStyle:{"font-size":"15px"},attrs:{data:e.tableData,"row-style":{height:"40px"},"cell-style":{padding:"0"}}},[a("el-table-column",{attrs:{label:"key"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.key))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"value"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.value))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.getlan("operate"),width:"360"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handleData(t.$index,t.row)}}}),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"}),e._v(" "),a("el-pagination",{attrs:{layout:"prev,next","page-sizes":[50,200,300],"page-size":this.pagesize,total:this.total},on:{"size-change":e.handleSizeChange,"current-change":e.current_change}})],1),e._v(" "),a("el-dialog",{attrs:{title:this.form.mode,visible:e.dialogServer,width:this.getDialogWidth(),"show-close":!0,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.dialogServer=t}}},[a("el-form",{ref:"form",staticClass:"el-form--label-top",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"",prop:"key"}},[a("span",{staticClass:"tlabel"},[e._v("key")]),e._v(" "),a("el-input",{staticStyle:{width:"500px"},attrs:{"auto-complete":"off",placeholder:"key"},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"value"}},[a("span",{staticClass:"tlabel"},[e._v("value")]),e._v(" "),a("el-input",{staticStyle:{width:"500px"},attrs:{"auto-complete":"off",placeholder:"value"},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.handleClose("form")}}},[e._v(e._s(e.getlan("cancel")))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.comfirmSubmit()}}},[e._v(e._s(e.getlan("Execute")))])],1)],1)],1)},staticRenderFns:[]};var c=a("C7Lr")(o,r,!1,function(e){a("RAlW")},"data-v-aefe3878",null);t.default=c.exports},RAlW:function(e,t){}});
//# sourceMappingURL=5.1be76597db373d0f2305.js.map