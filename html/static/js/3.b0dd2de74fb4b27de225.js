webpackJsonp([3],{JpL0:function(e,t){e.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},K31e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("CtzY"),s=a.n(i),o=a("/dor"),r=a("gyMJ"),_=(a("JpL0"),{data:function(){return{frompath:"",hiddenRole:!0,hiddenRegis:!1,tabPosition:"1",tabPositionLogin:"1",checked:!0,showloading:!1,radio:"1",pwd:"",formData:{appname:"InvoiceServer",captchaValue:"",captchaId:"",phone:"",imgurl:"",address:"",storeName:"",xingming:"",username:"",email:"",password:"",table:"",role:"1"},errMsg:""}},beforeRouteEnter:function(e,t,a){a(function(e){console.log("from.path1="+t.path),Object(o.h)("frompath",t.path)})},beforeRouteUpdate:function(e,t,a){var i=this;a(function(e){void 0!=t.path&&(i.frompath=t.path)})},created:function(){if(void 0==Object(o.d)("lan")&&(this.$i18n.locale="zh-CN",Object(o.h)("lan","zh-CN")),window.location.host.indexOf(":")>0){var e=window.location.host.split(":")[0],t=window.location.host.split(":")[1];null!=e&&void 0!=e&&"null"!=e&&(Object(o.h)("ip",e),Object(o.h)("port",t))}this.frompath=Object(o.d)("frompath"),console.log("this.frompath="+this.frompath),this.getVeriCode(),void 0!=Object(o.d)("username")&&(this.formData.username=Object(o.d)("username"))},methods:{getlan:function(e){var t=this.$t("lang."+e);return t.indexOf("lang.")>=0?e:t},handleCheckedChange:function(){},getVeriCode:function(){var e=this,t="http://"+Object(o.c)()+"/",a=t+"httpbusiness/getvericode";this.axios.post(a,"").then(function(a){var i=a.data.data;e.formData.imgurl=t+"httpbusiness/showcodeimg/"+i.imageUrl,e.formData.captchaId=i.captchaId}).catch(function(t){e.alert_fail("get verify code error")})},logintypeClick:function(e){"0"==e?(this.hiddenRegis=!0,this.hiddenRole=!1):(this.hiddenRegis=!1,this.hiddenRole=!0)},tabRoleClick:function(e){this.formData.role=e},goback:function(){this.$router.push({name:"help"})},LoginRegister:function(e){var t=this;if(this.errMsg="","0"==e||"1"==e){if(""==this.formData.username)return this.errMsg=this.getlan("please")+" "+this.getlan("input")+" "+this.getlan("username"),void this.alert_fail(this.errMsg);if(""==this.pwd)return this.errMsg=this.getlan("please")+" "+this.getlan("input")+" "+this.getlan("password"),void this.alert_fail(this.errMsg);if(""==this.formData.captchaValue)return this.errMsg=this.getlan("please")+" "+this.getlan("input")+" "+this.getlan("Verifycode"),void this.alert_fail(this.errMsg);if(""==this.formData.role)return this.errMsg=this.getlan("please")+" "+this.getlan("input")+" "+this.getlan("Role"),void this.alert_fail(this.errMsg);if(0==e&&""==this.formData.email)return this.errMsg=this.getlan("please")+" "+this.getlan("input")+" "+this.getlan("Email"),void this.alert_fail(this.errMsg);this.formData.table=1==e?"login":"register",this.showloading=!0,Object(o.h)("username",this.formData.username),this.formData.password=Object(o.e)(this.pwd),Object(r.f)(s.a.stringify(this.formData)).then(function(e){t.showloading=!1;var a=e.data.message,i=e.data.code;if(7!=i)if(22!=i&&"exists"!=e.data){if(11==i)return t.alert_fail(t.getlan("Verifycode")+" "+t.getlan("wrong")),void t.getVeriCode();if("register"==t.formData.table)if(1===i){t.tabPositionLogin="1",t.hiddenRegis=!0,t.alert_ok(t.getlan("register")+" "+t.getlan("success")+","+t.getlan("please")+t.getlan("login"));var s="_empty?time="+(new Date).getTime()/500;t.$router.push(s),t.$router.go(-1),t.getVeriCode(),t.formData.captchaValue=""}else t.alert_fail(a);else if(1===i?t.alert_ok(t.getlan("login")+" "+t.getlan("success")):t.alert_ok(t.getlan("login")+" "+t.getlan("fail")),1==i){var r=e.data.server_userid;Object(o.h)("token",e.data.token),Object(o.h)("userid",e.data.userid),Object(o.h)("server_userid",r),Object(o.h)("uid",r),Object(o.h)("staffid",e.data.staffid),Object(o.h)("role",e.data.role),Object(o.h)("power",e.data.power),"/shop"==t.frompath?t.$router.push({name:"shop",query:{userid:Object(o.d)("userid_shop")}}):(void 0==Object(o.d)("lan")?t.$router.push({name:"setting"}):null!=t.frompath&&void 0!=t.frompath?t.$router.push({name:t.frompath.replace(/\//g,"/")}):t.$router.push({name:"help"}),t.$router.go(0))}else t.alert_fail(e.data.message),t.errMsg=e.data.message}else t.alert_fail(t.getlan("username")+" "+t.getlan("Exists"));else t.alert_fail(t.getlan("NetworkUnavailable"))})}}}}),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"login-box"},[a("el-button",{staticStyle:{float:"left","margin-right":"20px"},attrs:{type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.goback()}}}),e._v(" "),a("div",{staticClass:"login-title",staticStyle:{"background-color":"#409EFF","text-align":"center"}},[a("span",{staticStyle:{"line-height":"40px",color:"#fff","font-weight":"400","font-size":"25px","text-align":"center"}},[e._v(e._s(e.getlan("login")))])]),e._v(" "),a("div",{staticClass:"form-wrap",staticStyle:{"margin-top":"-1px"}},[a("form",[a("div",{staticClass:"form-group"},[a("label"),e._v(" "),a("div",{staticClass:"input-group"},[a("el-radio-group",{on:{change:e.logintypeClick},model:{value:e.tabPositionLogin,callback:function(t){e.tabPositionLogin=t},expression:"tabPositionLogin"}},[a("el-radio",{key:"1",attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.getlan("login")))]),e._v(" "),a("el-radio",{key:"0",attrs:{label:"0"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.getlan("register")))])],1)],1)]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.getlan("username")))]),e._v(" "),a("div",{staticClass:"input-group"},[a("el-input",{staticStyle:{"text-transform":"none"},attrs:{type:"text",placeholder:""},model:{value:e.formData.username,callback:function(t){e.$set(e.formData,"username",t)},expression:"formData.username"}})],1)]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.getlan("password")))]),e._v(" "),a("div",{staticClass:"input-group"},[a("el-input",{staticStyle:{"text-transform":"none"},attrs:{type:"password",placeholder:""},model:{value:e.pwd,callback:function(t){e.pwd=t},expression:"pwd"}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hiddenRegis,expression:"hiddenRegis"}],staticClass:"form-group"},[a("label",[e._v(e._s(e.getlan("Email")))]),e._v(" "),a("div",{staticClass:"input-group"},[a("el-input",{staticStyle:{"text-transform":"none"},attrs:{type:"text",placeholder:""},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1)]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v(e._s(e.getlan("Verifycode")))]),e._v(" "),a("div",{staticClass:"input-group"},[a("el-input",{staticStyle:{width:"90px"},attrs:{type:"text",placeholder:"",id:"verricode"},model:{value:e.formData.captchaValue,callback:function(t){e.$set(e.formData,"captchaValue",t)},expression:"formData.captchaValue"}}),e._v(" "),a("img",{staticStyle:{width:"120px"},attrs:{id:"img",src:e.formData.imgurl,alt:"code"},on:{click:e.getVeriCode}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hiddenRole,expression:"hiddenRole"}],staticClass:"form-group"},[a("label",[e._v(e._s(e.getlan("Role")))]),e._v(" "),a("div",{staticClass:"input-group"},[a("el-radio-group",{on:{change:e.tabRoleClick},model:{value:e.tabPosition,callback:function(t){e.tabPosition=t},expression:"tabPosition"}},[a("el-radio",{attrs:{label:"1",checked:e.checked},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.getlan("Boss")))]),e._v(" "),a("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(e.getlan("Staff")))])],1)],1)]),e._v(" "),a("div",{staticClass:"form-group"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.hiddenRegis,expression:"!hiddenRegis"}],staticClass:"btn-block",attrs:{type:"primary"},on:{click:function(t){return e.LoginRegister("1")}}},[e._v(e._s(e.getlan("login")))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.hiddenRegis,expression:"hiddenRegis"}],staticClass:"btn-block",attrs:{type:"primary"},on:{click:function(t){return e.LoginRegister("0")}}},[e._v(e._s(e.getlan("register")))])],1),e._v(" "),a("div",{staticClass:"form-group"},[a("el-checkbox",{attrs:{type:"checkbox",checked:!0},on:{change:e.handleCheckedChange}}),e._v(" "),a("a",{attrs:{href:"#"}},[e._v("Privacy policy")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showloading,expression:"showloading"}],staticClass:"form-group"},[a("el-button",{staticStyle:{margin:"0 auto"},attrs:{icon:"el-icon-loading"}})],1),e._v(" "),a("div",{staticClass:"err-msg"},[e._v(e._s(e.errMsg))])])])],1)])},staticRenderFns:[]};var l=a("C7Lr")(_,n,!1,function(e){a("PrKR")},"data-v-39c0e719",null);t.default=l.exports},PrKR:function(e,t){}});
//# sourceMappingURL=3.b0dd2de74fb4b27de225.js.map