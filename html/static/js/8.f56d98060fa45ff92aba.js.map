{"version":3,"sources":["webpack:///src/components/Tables.vue","webpack:///./src/components/Tables.vue?7ac4","webpack:///./src/components/Tables.vue"],"names":["Tables","name","data","cols","prop","label","pageid","total","pagesize","loadFinish","tableData","table_name","table_catalog","CategoryName","dialogServer","belong","this","$route","params","sqlString","form","id","warehousename","remark","table","mode","userid","Object","pub","querymap","dbname","rules","required","message","trigger","min","max","created","init","methods","getlan","str","$t","indexOf","_this","errorMessage","api","lib_default","a","stringify","then","res","goback","$router","push","addtable","datetime","sql","gotoRunsql","index","row","showdata","tablename","showtable","handleData","handleDelete","handleClose","formName","$refs","resetFields","current_change","_this2","handleSizeChange","val","create","_this3","code","$message","error","alert_ok","comfirmRunSql","_this4","$confirm","confirmButtonText","confirmButtonClass","cancelButtonText","type","runsql","catch","_this5","components_Tables","render","_vm","_h","$createElement","_c","_self","attrs","span","staticStyle","float","icon","on","click","$event","_v","staticClass","_s","font-size","row-style","height","cell-style","padding","_l","item","key","width","scopedSlots","_u","fn","scope","size","$index","layout","page-sizes","page-size","size-change","current-change","title","visible","getDialogWidth","show-close","close-on-click-modal","close-on-press-escape","update:visible","ref","model","autosize","minRows","placeholder","value","callback","$$v","expression","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"web/static/js/8.f56d98060fa45ff92aba.js","sourcesContent":["<template>\n    <el-main>\n      <el-row>\n        <el-col :span=\"24\">\n           <el-button style=\"float:left\" type=\"primary\" icon=\"el-icon-back\" @click=\"goback()\"></el-button>\n          <el-button style=\"float:left\"  type=\"primary\" icon=\"el-icon-refresh\" @click=\"init()\"></el-button>\n          <div class=\"demonstration h_title\">{{querymap.dbname}}<font> </font></div>\n          <el-button  type=\"primary\" icon=\"el-icon-plus\" @click=\"addtable()\"></el-button>\n  <el-button   style=\"float:left\" type=\"primary\" icon=\"el-icon-upload\" @click=\"gotoRunsql()\"> Run SQL</el-button>\n            <el-button   style=\"float:left\" type=\"primary\" icon=\"el-icon-upload\" @click=\"addtable()\">Add Table</el-button>\n        \n\n        </el-col>\n      </el-row>\n\n  <el-table :data=\"tableData\"  :row-style=\"{height:'40px'}\"  \n    :cell-style=\"{padding:'0'}\"\n    style=\"font-size: 15px\">\n\n       <af-table-column\n    v-for=\"(item,key) in tableData[0]\"  :key=\"key\"\n    :prop=\"key\"  :label=\"key\"     >\n  </af-table-column>\n  <el-table-column :label=\"getlan('operate')\" width=\"360\">\n          <template slot-scope=\"scope\">\n\n              <el-button  size=\"small\"  @click=\"showdata(scope.$index, scope.row)\">{{getlan('Data')}}  </el-button>\n             <el-button  size=\"small\"   @click=\"showtable(scope.$index, scope.row)\">{{getlan('Struct')}}  </el-button>\n             <el-button size=\"small\"   icon=\"el-icon-edit\" @click=\"handleData(scope.$index, scope.row)\"></el-button>\n             <el-button size=\"small\" icon=\"el-icon-delete\"  @click=\"handleDelete(scope.$index, scope.row)\"></el-button>\n          </template>\n        </el-table-column>\n\n    \n      </el-table>\n\n<div class=\"block\">\n            <span class=\"demonstration\"></span>\n           <el-pagination \n                layout=\"prev,next\" \n                @size-change=\"handleSizeChange\"\n                @current-change=\"current_change\"\n                :page-sizes=\"[50,200, 300]\"\n                :page-size=\"this.pagesize\"\n                :total=\"this.total\">\n            </el-pagination>\n        </div>\n\n     <el-dialog :title=\"getlan('RunSQL')\" :visible.sync=\"dialogServer\"  :width=\"this.getDialogWidth()\"   :show-close=\"true\" :close-on-click-modal=\"false\" :close-on-press-escape=\"false\">\n        <el-form :model=\"form\" :rules=\"rules\" ref=\"form\" class=\"el-form--label-top\">\n          <el-form-item :label=\"getlan('RunSQL')\" prop=\"sqlString\">\n          \t<el-input type=\"textarea\" :autosize=\"{ minRows: 6}\" placeholder=\"sqlString\" v-model=\"sqlString\"></el-input>\n          </el-form-item>\n\n        </el-form>\n        <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"handleClose('form')\">{{getlan('cancel')}}</el-button>\n                <el-button type=\"primary\" @click=\"comfirmRunSql()\">{{getlan('Execute')}}</el-button>\n            </span>\n      </el-dialog>\n    </el-main>\n</template>\n\n<script>\nimport Qs from 'qs'\n    import{Type,AddData,DeleteData,GetList} from \"@/api/index\"\n     import{getDay,getDateTime,getReqUrl,getLang,getValue,setValue} from \"@/utils/pub\"\n    export default {\n        name: 'App',\n        data() {\n        \n            return {\n      \n              cols: [\n           {prop: 'table_name', label: 'table_name'},\n           {prop: 'table_catalog', label: 'table_catalog'},\n          ],\n              pageid: 1,\n              total:50,\n            pagesize: 50,\n              loadFinish:0,\n               tableData:[{table_name:\"\",table_catalog:\"\"}],\n              CategoryName:'',\n             dialogServer:false,\n              belong:this.$route.params.belong,\n              sqlString:'',\n              form:{\n                id:0,\n                warehousename:'',\n                 remark:'',\n                table:'table',\n                tableData:[],\n                mode:'',\n                userid:getValue(\"userid\"),\n                 belong:this.$route.params.belong,\n              },\n               querymap:{ \n               pageid:this.pageid,\n                pagesize:this.pagesize,\n                table:'table',\n                dbname:this.$route.params.dbname,\n              },\n              rules:{\n               warehousename:[\n                  { required: true, message: 'Please input name', trigger: 'change' },\n                  { min: 1, max: 30, message: 'length 1 - 30', trigger: 'change' }\n                ],\n              }\n            }\n        },\n        created(){\n          this.belong=this.$route.params.belong;\n         \n         \n         \n          this.init();\n        },\n         methods: {\n          getlan(name){ var str=this.$t('lang.'+name+''); if(str.indexOf(\"lang.\")>=0){ return name; }return str },\n          init(){\n            //this.total=this.tableData.length;\n            \n        if(this.$route.params.dbname!=null){\n             this.querymap.dbname=this.$route.params.dbname;\n              setValue(\"dbname\",this.$route.params.dbname)\n          }else{\n           this.querymap.dbname=getValue(\"dbname\");\n          }\n\n              this.errorMessage=\"Loading...\"\n            GetList(Qs.stringify(this.querymap)).then(res=>{\n            \n              this.tableData = res.data.data;\n               //this.total=res.data.total;\n               this.pagesize=res.data.pagesize;\n               this.errorMessage=\"\"\n            })\n\n          },\n      \n           goback(){\n\t this.$router.push({name:'database'});\n          },\n          addtable(){\n            var autoinc = \"AUTOINCREMENT\"\n            var idtype = \"INTEGER\"\n            var datetime = \"datetime\"\n\n            var dbtype=getValue(\"dbtype\");\n\n             if (dbtype==\"postgres\"){\n                idtype = \"SERIAL\"\n\t\t             autoinc = \"\"\n\t\t             datetime = \" timestamp(0) without time zone \"\n             }\n            var sql=\"CREATE TABLE \\\"userss\\\"  \\n  (\\\"ID\\\" INTEGER,\\n \\\"UserId\\\" INTEGER,\\\"UserName\\\" VARCHAR,\\n \\\"IdNum\\\" VARCHAR,\\n \\\"BirthDay\\\" \" + datetime + \",\\n \\\"AddTime\\\" \" + datetime + \")\"\n\n            this.$router.push({name: 'runsql', params: {dbname: this.querymap.dbname,sql:sql}})\n          },\n           gotoRunsql(index, row){\n               this.$router.push({name: 'runsql', params: {dbname: this.querymap.dbname}})\n            },\n                showdata(index, row){\n               this.$router.push({name: 'showdata', params: {tablename: row.table_name}})\n            },\n             showtable(index, row){\n               this.$router.push({name: 'column', params: {tablename: row.table_name}})\n            },\n          handleData(index, row){\n\n              this.sqlString=\"Alert table \"+row.table_name + \" rename to  xxx\";\n\n              this.dialogServer = true;\n          },\n\n          handleDelete(index, row) {\n           this.sqlString=\"Drop  table \"+row.table_name + \" xx \";\n\n              this.dialogServer = true;\n          },\n          handleClose(formName){\n            this.dialogServer = false;\n            this.form = {\n              id:0,\n                warehousename:'',\n\n            }\n            this.$refs['form'].resetFields();\n          },//分页\n        current_change:function(pageid){\n            this.pageid = pageid;\n  GetList(Qs.stringify(this.querymap)).then(res=>{\n            \n              this.tableData = res.data.data;\n              // this.total=res.data.total;\n               this.pagesize=res.data.pagesize;\n            })\n\n        },\n        handleSizeChange(val) {\n            this.pagesize = val;\n            \n        },\n         \n          create(form){\n           \n            if(form.warehousename==''){\n             this.alert_ok('warehousename is null')\n             return\n            }\n             \n                this.form.table='warehouse',\n                 this.form.userid=getValue(\"userid\"),\n                  this.form.belong=this.$route.params.belong,\n          form.tableData=\"{\\\"id\\\":\\\"\"+this.form.id+\"\\\",\\\"warehousename\\\":\\\"\" +form.warehousename+ \"\\\",\\\"remark\\\":\\\"\" +form.remark+ \"\\\"}|\";\n\n            AddData(Qs.stringify(this.form)).then(res=>{\n             \n              if(res.data.code==1){\n                \n                this.dialogServer = false;\n                  this.form.warehousename=\"\"\n              this.form.remark=\"\"\n                this.init();\n                //this.$message({message: 'success',type: 'success'});\n              }else{\n                if(res.data.message==\"exists\"){\n                    this.$message.error(this.getlan('Exists'));\n                }else{\n                   this.$message.error(res.data.message);\n                }\n              }\n            })\n          },\n          comfirmRunSql(){\n         \n    this.$confirm( this.sqlString,  this.getlan('Execute'), {\n              confirmButtonText:  this.getlan('Execute'),\n              confirmButtonClass: 'el-button--danger',\n              cancelButtonText:  this.getlan('cancel'),\n              type: 'warning'\n            }).then(() => {\n                this.runsql()\n            }).catch(() => {});\n          },\n    runsql() {\n          \n          if(this.sqlString==''){\n             this.alert_ok('sql is null')\n             return\n            }\n             \n          var  params={ \n              sql:this.sqlString,\n              table:'runsql'\n              }\n             // console.log(\"this.sql=\"+this.sqlString)\n                this.errorMessage=\"\";\n            AddData(Qs.stringify(params)).then(res=>{\n             \n              if(res.data.code==1){\n                this.dialogServer = false;\n                this.tableData=res.data.data;\n               // this.$message({message:res.data.message,type: 'success'});\n              }else{\n                   if(res.data.message!=null){\n                     this.errorMessage=res.data.message\n                     this.alert_ok(res.data.message)\n                   }\n              }\n            })\n\n          }\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n  .el-main {\n    margin: 0px 0 0 160px;\n    padding: 10px;\n    .el-col {\n      text-align: right;\n    }\n    .el-form--label-top .el-form-item__label {\n      padding: 0;\n    }\n    .el-button.add {\n      background-color: #4caf50;\n      border: 0;\n      font-size: 12px;\n    }\n     .h_title{\n      margin-left:20px;\n      float: left;\n      line-height: 40px;\n      font{\n        color: #4caf50;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Tables.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-main',[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-button',{staticStyle:{\"float\":\"left\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-back\"},on:{\"click\":function($event){return _vm.goback()}}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"left\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":function($event){return _vm.init()}}}),_vm._v(\" \"),_c('div',{staticClass:\"demonstration h_title\"},[_vm._v(_vm._s(_vm.querymap.dbname)),_c('font')],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.addtable()}}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"left\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-upload\"},on:{\"click\":function($event){return _vm.gotoRunsql()}}},[_vm._v(\" Run SQL\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"left\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-upload\"},on:{\"click\":function($event){return _vm.addtable()}}},[_vm._v(\"Add Table\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"font-size\":\"15px\"},attrs:{\"data\":_vm.tableData,\"row-style\":{height:'40px'},\"cell-style\":{padding:'0'}}},[_vm._l((_vm.tableData[0]),function(item,key){return _c('af-table-column',{key:key,attrs:{\"prop\":key,\"label\":key}})}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.getlan('operate'),\"width\":\"360\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.showdata(scope.$index, scope.row)}}},[_vm._v(_vm._s(_vm.getlan('Data'))+\"  \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.showtable(scope.$index, scope.row)}}},[_vm._v(_vm._s(_vm.getlan('Struct'))+\"  \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleData(scope.$index, scope.row)}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}})]}}])})],2),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('span',{staticClass:\"demonstration\"}),_vm._v(\" \"),_c('el-pagination',{attrs:{\"layout\":\"prev,next\",\"page-sizes\":[50,200, 300],\"page-size\":this.pagesize,\"total\":this.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.current_change}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.getlan('RunSQL'),\"visible\":_vm.dialogServer,\"width\":this.getDialogWidth(),\"show-close\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.dialogServer=$event}}},[_c('el-form',{ref:\"form\",staticClass:\"el-form--label-top\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":_vm.getlan('RunSQL'),\"prop\":\"sqlString\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 6},\"placeholder\":\"sqlString\"},model:{value:(_vm.sqlString),callback:function ($$v) {_vm.sqlString=$$v},expression:\"sqlString\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.handleClose('form')}}},[_vm._v(_vm._s(_vm.getlan('cancel')))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.comfirmRunSql()}}},[_vm._v(_vm._s(_vm.getlan('Execute')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2af3aa9c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/Tables.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2af3aa9c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Tables.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Tables.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Tables.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2af3aa9c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Tables.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2af3aa9c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Tables.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}